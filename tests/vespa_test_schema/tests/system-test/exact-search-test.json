{
  "name": "Exact Query Test",
  "comment": "Uses the exact search profile, doesn't require results to succeed",
  "defaults": {
    "cluster": "default",
    "parameters": {
      "timeout": "2s"
    }
  },
  "steps": [
    {
      "name": "exact query",
      "request": {
        "method": "GET",
        "uri": "/search/",
        "parameters": {
          "yql": "select * from sources family_document, document_passage where ( (family_name contains({stem: false}\"test\")) or (family_description contains({stem: false}\"test\")) or (text_block contains ({stem: false}\"test\")) ) limit 0 | all( group(family_import_id) max(150) each( max(10) each(output(summary(search_summary)) ) ) )",
          "timeout": "20",
          "ranking.softtimeout.factor": "0.7",
          "ranking.profile": "exact"
        },
        "response": {
          "body": {
            "root": {
              "fields": {
                "totalCount": {}
              }
            }
          }
        }
      }
    }
  ]
}

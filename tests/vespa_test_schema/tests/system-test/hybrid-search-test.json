{
  "name": "Hybrid Query Test",
  "comment": "Uses the hybrid search profile, doesn't require results to succeed",
  "defaults": {
    "cluster": "default",
    "parameters": {
      "timeout": "2s"
    }
  },
  "steps": [
    {
      "name": "hybrid query",
      "request": {
        "method": "GET",
        "uri": "/search/",
        "parameters": {
          "yql": "select * from sources family_document, document_passage where (({\"targetHits\": 1000} weakAnd( family_name contains \"test\", family_description contains \"test\", text_block contains \"test\" ) ) or ( [{\"targetNumHits\": 1000}] nearestNeighbor(family_description_embedding,query_embedding) ) or ([{\"targetNumHits\": 1000}] nearestNeighbor(text_embedding,query_embedding) )) limit 0 | all( group(family_import_id) max(150) each( max(10) each(output(summary(search_summary)) ) ) )",
          "ranking.softtimeout.factor": "0.7",
          "ranking.profile": "hybrid",
          "input.query(query_embedding)": "[0.21479882299900055, 0.057950910180807114, 0.13082940876483917, 0.27516427636146545, 0.5703607797622681, 0.27207544445991516, 0.037683773785829544, -0.2689230740070343, 0.11455964297056198, -0.09755861014127731, 0.24608354270458221, 0.2084851861000061, -0.016719521954655647, 0.27311038970947266, 0.12295518070459366, 0.22908537089824677, 0.12126511335372925, -0.21736514568328857, 0.3215217888355255, -0.12385813146829605, 0.10038316249847412, -0.07435975223779678, -0.17835824191570282, 0.33572664856910706, 0.020709002390503883, -0.01762908324599266, 0.0370495542883873, 0.016892222687602043, -0.04030750319361687, -0.055537041276693344, -0.03583471477031708, 0.10444294661283493, 0.2371789664030075, -0.08745559304952621, -0.09476105123758316, 0.1390245407819748, -0.09712470322847366, -0.04552281275391579, -0.04728063941001892, 0.004124549683183432, -0.07327072322368622, -0.3448657989501953, -0.18195326626300812, 0.07964784651994705, -0.23345519602298737, -6.403525912901387e-05, -0.5516793727874756, 0.1583613157272339, -0.23817916214466095, 0.15320619940757751, -0.05623086169362068, 0.5823732018470764, 0.020855873823165894, 0.10463974624872208, 0.07669435441493988, -0.1385246366262436, 0.03186182677745819, -0.012984494678676128, -0.10607967525720596, -0.11413514614105225, 0.13611139357089996, 0.06913832575082779, -0.02500809170305729, -0.20894624292850494, 0.32041993737220764, 0.23090136051177979, 0.16225571930408478, 0.08469448238611221, -0.5986588597297668, -0.3541070520877838, -0.015528271906077862, 0.2989238500595093, -0.1944093555212021, 0.05761821195483208, 0.1859324723482132, 0.01704021915793419, -0.1930735558271408, 0.08230964094400406, 0.1494746059179306, 0.15697340667247772, -0.18393121659755707, -0.030994772911071777, -0.028711112216114998, 0.2707076966762543, 0.18285028636455536, 0.018240634351968765, 0.28319481015205383, -0.3868926763534546, -0.21472199261188507, 0.1359584778547287, 0.24532103538513184, -0.05761301890015602, 0.04915456101298332, -0.1448046863079071, 0.25013431906700134, -0.21400098502635956, -0.0409950353205204, -0.11907406896352768, -0.15562579035758972, 0.17096464335918427, -0.2522958517074585, -0.24088536202907562, 0.17607133090496063, 0.23935484886169434, 0.3100402057170868, -0.05956527590751648, 0.05865940451622009, -0.273593544960022, -0.17044931650161743, 0.43409955501556396, 0.20543241500854492, -0.16341723501682281, -0.032368291169404984, -0.1716899871826172, -0.3088311553001404, 0.1279006004333496, 0.18361635506153107, -0.13654951751232147, 0.15043014287948608, 0.14534369111061096, 0.011981434188783169, 0.11330785602331161, 0.05570770427584648, 0.7655289769172668, 0.17547881603240967, -0.18243758380413055, 0.067088782787323, 0.13282053172588348, -0.18206508457660675, -0.13721047341823578, -0.18439985811710358, -0.02467571757733822, 0.2783644199371338, 0.3177233040332794, -0.04046430066227913, 0.11324562877416611, 0.26971665024757385, -0.17573697865009308, -0.14622151851654053, 0.08433932065963745, -0.09485272318124771, 0.10274415463209152, 0.2111436277627945, 0.10442139953374863, 0.26253148913383484, -0.11547819525003433, -0.19767720997333527, -0.22701573371887207, 0.14387689530849457, -0.0036628295201808214, 0.10344860702753067, 0.15252463519573212, -0.4607367515563965, 0.010276295244693756, -0.20479905605316162, 0.27994251251220703, -0.26239070296287537, 0.10218969732522964, -0.04169553518295288, 0.03986189886927605, -0.021831467747688293, 0.0021836396772414446, -0.01186619233340025, -0.020985325798392296, 0.24803526699543, 0.019186213612556458, 0.07860531657934189, 0.4564552307128906, -0.10273318737745285, 0.30451637506484985, -0.018505804240703583, -0.1398526281118393, 0.21621035039424896, 0.018710510805249214, 0.04138481244444847, 0.1765410304069519, 0.3426138460636139, 0.06299646198749542, -0.010171403177082539, 0.028346648439764977, -2.384411573410034, 0.005697468761354685, -0.20644207298755646, 0.06243455410003662, -0.10346760600805283, -0.0010197212686762214, 0.2537411153316498, -0.11630216240882874, -0.09026522189378738, -0.1694689244031906, 0.02615252137184143, -0.2819514274597168, 0.02139151096343994, -0.20864947140216827, 0.3672492504119873, 0.06228290870785713, -0.1450859159231186, 0.31993988156318665, -0.08092454820871353, -0.047631729394197464, 0.21874241530895233, 0.16546271741390228, -0.1337762475013733, 0.05915083363652229, -0.16865873336791992, -0.1178976520895958, 0.36616504192352295, -0.44789910316467285, 0.040603265166282654, 0.1595793068408966, -0.4067942798137665, 0.06462740153074265, 0.09272539615631104, 0.0573306679725647, -0.05008958280086517, -0.05400820076465607, -0.10781536251306534, 0.14602135121822357, 0.1537032276391983, -0.2517349421977997, -0.039881471544504166, -0.08102697134017944, -0.16298054158687592, 0.23312370479106903, -0.13459143042564392, 0.4077145755290985, 0.2574687898159027, -0.06913652271032333, -0.006244974676519632, -0.3310200273990631, -0.07872716337442398, -0.08579692244529724, 0.4023442566394806, 0.1884261965751648, 0.14579977095127106, 0.10418494790792465, -0.40570446848869324, -0.2850954532623291, 0.2265721708536148, -0.36119842529296875, -0.10349387675523758, -0.04691218212246895, 0.10604985803365707, 0.09509775787591934, 0.05300739407539368, 0.09382893890142441, 0.1283111572265625, 0.3663890063762665, 0.1101905107498169, -0.19529147446155548, -0.15437306463718414, -0.06038346886634827, -0.11669820547103882, -0.012179124169051647, -0.07804907113313675, -0.02063768357038498, 0.08376818895339966, 0.12943388521671295, 0.08546362072229385, -0.003624365897849202, 0.2048073410987854, -0.202375590801239, 0.12102707475423813, -0.10556011646986008, 0.0650370642542839, -0.3610990047454834, -0.13900218904018402, -0.17093180119991302, -0.07228858023881912, 0.21387441456317902, -0.026124650612473488, -0.06518060714006424, -0.12070030719041824, 0.12564502656459808, -0.10179340839385986, -0.45328226685523987, 0.2979758083820343, 0.37863919138908386, 0.2441132515668869, -0.07359424978494644, -0.04880988597869873, 0.057169605046510696, -0.0029022868257015944, 0.26082730293273926, 0.09048657864332199, 0.04114856198430061, -0.16049794852733612, -0.363357275724411, 0.16261570155620575, -0.2746170461177826, -0.11767265200614929, 0.57645183801651, -0.10043198615312576, -0.26699599623680115, 0.11478524655103683, -0.1588752269744873, 0.10963460057973862, 0.00805006455630064, 0.1250162273645401, -0.06857848167419434, 0.18569426238536835, 0.13634219765663147, 0.1612621694803238, -0.005397086497396231, 0.15108990669250488, -0.03312833234667778, -0.22924508154392242, -0.4500809907913208, -6.813999176025391, -0.08720176666975021, 0.18061618506908417, -0.40914449095726013, 0.39461883902549744, 0.05579710379242897, -0.30077189207077026, 0.007920336909592152, 0.04894756153225899, -0.07435140758752823, -0.34281256794929504, -0.20657187700271606, -0.26343193650245667, 0.3824961185455322, -0.05492681264877319, 0.18740402162075043, -0.2313971370458603, -0.2296878695487976, -0.2338341474533081, 0.13307127356529236, 0.06154434755444527, -0.10655318945646286, 0.14788542687892914, 0.029093831777572632, 0.03834204003214836, 0.1688772588968277, -0.43830880522727966, 0.19621844589710236, -0.03935282677412033, 0.04763653874397278, 0.34130021929740906, -0.7020142674446106, -0.11313057690858841, 0.12195316702127457, 0.22472691535949707, 0.012788156978785992, 0.037892188876867294, -0.3737376928329468, 0.2229127436876297, -0.3027952015399933, -0.26691439747810364, -0.1739162653684616, -0.043396394699811935, -0.1699257642030716, -0.08208649605512619, -0.20320935547351837, 0.042562086135149, 0.06314120441675186, -0.06722628325223923, 0.18339169025421143, 0.13131773471832275, 0.3226998746395111, -0.11163202673196793, -0.07054132223129272, -0.24174945056438446, 0.0403718575835228, 0.24912352859973907, 0.12007955461740494, -0.14954212307929993, -0.04886118695139885, -0.25941404700279236, -0.10258177667856216, -0.010340430773794651, -0.11201217025518417, -0.33114537596702576, -0.1708042174577713, -0.24504227936267853, -0.1336357146501541, 0.016887925565242767, -0.11389144510030746, -0.0388575904071331, -0.004418338183313608, -0.08529883623123169, -0.7275158762931824, -0.18568964302539825, 0.08222994953393936, 0.20552025735378265, -0.3387695848941803, 0.042353276163339615, 0.14440979063510895, -0.03893101215362549, -0.08121341466903687, 0.26632142066955566, 0.05932066962122917, -0.028523169457912445, 0.0667775347828865, -0.2443246841430664, 0.1410493105649948, -0.16465961933135986, -0.323238343000412, 0.6542871594429016, 0.0010842880001291633, -0.10707183927297592, 0.032119270414114, 0.1633039265871048, 0.34931984543800354, -0.2811150848865509, 0.3034944534301758, 0.052539899945259094, 0.031641989946365356, -0.01666330359876156, -0.10941219329833984, 0.3093979060649872, -0.02630840428173542, -0.15021146833896637, -0.15582984685897827, -0.38142111897468567, -0.0038597036618739367, 0.0425274632871151, -0.1604049950838089, -0.021252617239952087, -0.1331021934747696, 0.008932016789913177, 0.2337726205587387, 0.13535310328006744, -0.19952528178691864, 0.07355844229459763, 0.036258865147829056, -0.057235315442085266, 0.01847422868013382, 0.001346039236523211, 0.1723499447107315, 0.00806147139519453, -0.09666294604539871, -0.13035030663013458, 0.01035569328814745, -0.31037068367004395, -0.09264552593231201, 0.07871323823928833, -0.0009024289320223033, -0.23412592709064484, 0.12026561051607132, -0.0035319116432219744, 0.20999561250209808, 0.622666597366333, 0.06797430664300919, -0.2769937813282013, -0.043279122561216354, -0.018775073811411858, 0.42363670468330383, 0.35747238993644714, -0.16710788011550903, 0.24875812232494354, -0.18663616478443146, -0.041261378675699234, -0.09571635723114014, 0.36869528889656067, -0.006780063267797232, 0.06488161534070969, -0.10991590470075607, 0.016737597063183784, -0.1175997257232666, 0.15158356726169586, -0.13961495459079742, -0.13863594830036163, 0.08541803807020187, 0.1563681662082672, -0.1482514590024948, 0.1871868520975113, -0.4461086690425873, -0.2734946012496948, -0.05186581239104271, -0.16840402781963348, -0.13856865465641022, -0.38615408539772034, 0.0796685442328453, -0.03736337646842003, -0.08563228696584702, -0.07190713286399841, 0.0138147147372365, -0.36778005957603455, -0.22317087650299072, 0.05982276797294617, 0.07081755250692368, -0.19851697981357574, 0.33658304810523987, -0.229750394821167, -0.23271286487579346, 0.07673730701208115, 0.13385044038295746, -0.0998033657670021, -0.22292281687259674, -0.2612045705318451, 0.15095393359661102, 0.2081906795501709, 0.22379255294799805, -0.13429702818393707, -0.005072008818387985, -0.027835913002490997, 0.16325531899929047, -0.22430194914340973, -0.0669456198811531, 0.18175113201141357, 0.05401996150612831, -0.007774213794618845, -0.19164986908435822, 0.11759761720895767, 0.3646498918533325, -0.016885792836546898, 0.14787788689136505, -0.05919567868113518, -0.25212186574935913, 0.22400206327438354, -0.016863858327269554, 0.16658692061901093, -0.27738550305366516, -0.18846441805362701, 0.12380126863718033, 0.05685395002365112, -0.14637768268585205, 0.13011346757411957, 0.10508453845977783, -0.20522888004779816, 0.03783195838332176, 0.29362961649894714, -0.20504117012023926, 0.1361195296049118, -0.28289344906806946, 0.12257968634366989, 0.09817633777856827, -0.18078871071338654, 0.13344727456569672, 0.07655689865350723, -0.05859004333615303, -0.44073379039764404, -0.3924819529056549, 0.3971298038959503, -0.024720752611756325, 0.21970726549625397, 0.21999825537204742, -0.2115795761346817, -0.22237400710582733, -0.33301952481269836, 0.1494237631559372, -0.20225661993026733, -0.13650453090667725, 0.014099757187068462, -0.07417353987693787, 0.08017726987600327, -0.03218603506684303, 0.020204216241836548, -0.2177247256040573, -0.26305466890335083, 0.05891634151339531, 0.1337832659482956, 0.21999460458755493, -0.10530012100934982, -0.25241267681121826, 0.12550653517246246, 0.04895554855465889, -0.06614869087934494, -0.11452899128198624, -0.04568624496459961, 0.1354978084564209, 0.24810552597045898, -0.1490311175584793, -0.04033902660012245, -0.051813554018735886, -0.2185503989458084, 0.20186656713485718, -0.24081917107105255, -0.11336543411016464, 0.12865303456783295, -0.3589019477367401, -0.09923293441534042, -0.01967809535562992, -0.017303435131907463, 0.013289615511894226, 0.07988389581441879, -0.14882156252861023, 0.0028189935255795717, -0.35292449593544006, 0.09713637083768845, 0.4673899710178375, -0.23625397682189941, 0.006247951183468103, -0.22325746715068817, 0.2420596331357956, 0.20470893383026123, 0.28646227717399597, -0.06722170114517212, 0.22790594398975372, 0.11058538407087326, -0.1279803067445755, 0.11978668719530106, 0.2428780049085617, 0.16966228187084198, 0.2758547067642212, 0.2825504541397095, -0.005480731371790171, 0.2410123199224472, 0.0543186254799366, -0.3013637363910675, -0.11073994636535645, -0.07254646718502045, -0.013829614967107773, 0.14525961875915527, 0.5786789059638977, 0.03685750439763069, 0.02029760368168354, -0.12838928401470184, 0.09117695689201355, 0.17537014186382294, -0.32318082451820374, -0.07380342483520508, 0.22068727016448975, 0.2700498104095459, -0.018570924177765846, -0.13650000095367432, -0.03978214040398598, 0.19640296697616577, -0.1837480068206787, 0.19090968370437622, -0.042594123631715775, -0.4421474039554596, -0.024161100387573242, 0.16656683385372162, 0.1949414610862732, 0.056084632873535156, 0.5718051791191101, -0.08337416499853134, 0.15696178376674652, 0.34624984860420227, -0.1895008683204651, 0.04568616673350334, 0.2252979725599289, 0.07097942382097244, -0.029350535944104195, 0.024939442053437233, 0.09195069223642349, 0.14005905389785767, 0.08001939207315445, 0.11745413392782211, -0.060030747205019, 0.1232309341430664, 0.014773775823414326, -0.02959352172911167, -0.008201641030609608, 0.05653645470738411, 0.07275762408971786, 0.09320950508117676, 0.07622141391038895, -0.10053479671478271, 0.013448578305542469, 0.15103429555892944, 0.1772603541612625, -0.026676619425415993, 0.06522645801305771, -0.29462191462516785, 0.2829342186450958, -0.35853007435798645, -0.189810648560524, -0.24325047433376312, 0.11755482107400894, -0.004705632571130991, -0.22762174904346466, 0.1406497210264206, 0.11514490842819214, 0.011547185480594635, 0.059128016233444214, -0.07007553428411484, 0.3066185414791107, 0.1977146714925766, 0.0682113841176033, -0.40028321743011475, 0.17288078367710114, 0.13262824714183807, -0.0006544093484990299, -0.1815379112958908, 0.002573954639956355, -0.15029825270175934, -0.22536809742450714, -0.03393755480647087, 0.3534046709537506, -0.01926986314356327, -0.13612999022006989, 0.02701125107705593, 0.237687349319458, -0.15683721005916595, 0.013299182988703251, 0.21422673761844635, -0.0074129230342805386, 0.036771126091480255, -0.22485555708408356, -0.1089586615562439, 0.16465239226818085, 0.1900620460510254, 0.0022027294617146254, -0.21280336380004883, -0.3181256353855133, 0.010072740726172924, -0.10091328620910645, 0.3946230411529541, 0.17843449115753174, -0.17361228168010712, -0.011631128378212452, 0.26434293389320374, -0.2726164162158966, 0.5677788257598877, 0.18720559775829315, -0.12722130119800568, -0.16504915058612823, -0.022234106436371803, -0.09849632531404495, -0.3041928708553314, 0.293791264295578, 0.05258258059620857, 0.031248664483428, -0.06314192712306976, -0.07137280702590942, -0.020487496629357338, 0.0686553418636322, -0.7865470051765442, 0.2045006901025772, -0.3002845346927643, -0.09799721091985703, 0.01030420046299696, 0.4290437400341034, 0.0996617004275322, 0.0694681704044342, -0.2944392263889313, -0.020529134199023247, 0.10720700770616531, 0.17207640409469604, -0.25199517607688904, 0.077950619161129, 0.16579116880893707, -0.021453311666846275, -0.17584307491779327, 0.004852662328630686, 0.11229444295167923, -0.03223242983222008, -0.24301178753376007, 0.244992196559906, -0.23889249563217163, 0.046658892184495926, -0.1868426650762558, 0.0560343973338604, -0.06592195481061935, -0.2194855809211731, -0.03557285666465759, 0.3013409674167633, 0.031666796654462814, -0.23378145694732666, 0.619196355342865, -0.2152259796857834, 0.006662438157945871, 0.09693687409162521, 0.16621138155460358, -0.04931451380252838, -0.1893841028213501, 0.16272972524166107, -0.043935682624578476, -0.19576452672481537, 8.276725566247478e-05, -0.1815861612558365, 0.11104541271924973, -0.010035532526671886, -0.3233696520328522, -0.1591978818178177]"
        },
        "response": {
          "body": {
            "root": {
              "fields": {
                "totalCount": {}
              }
            }
          }
        }
      }
    }
  ]
}
